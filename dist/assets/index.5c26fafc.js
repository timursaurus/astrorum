var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,i=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&n(e,s,t[s]);if(a)for(var s of a(t))l.call(t,s)&&n(e,s,t[s]);return e};import{C as o,m as d,o as c,c as h,a as p,w as u,v as g,t as m,b as w,F as y,r as x,d as v,e as k,f,g as b,h as D,i as _}from"./vendor.aeb67874.js";const P=o.create({baseURL:"https://api.nasa.gov/"}),j=o.create({baseURL:"https://images-api.nasa.gov/"}),q="zXdOgCAKTWjfRv44T0utnneLucGWDugpkcsfh7BS";const A={name:"Search",data:()=>({slider:{start_date:1920,end_date:2021},settings:{start:1920,end:2021,page:1,maxPage:1,prevQuery:""},query:"",results:{items:[],links:[],meta:0}}),computed:{sliderStart:{get(){return parseInt(this.slider.start_date)},set(e){(e=parseInt(e))>this.slider.end_date&&(this.slider.end_date=e),this.slider.start_date=e}},sliderEnd:{get(){return parseInt(this.slider.end_date)},set(e){(e=parseInt(e))<this.slider.start_date&&(this.slider.start_date=e),this.slider.end_date=e}}},mounted(){this.UpToDate()},methods:(C=i({},d(["changeApod"])),O={UpToDate(){const e=(new Date).getFullYear();this.settings.end=e,this.slider.end_date=e},clearRes(){this.query="",this.results.items=[],this.results.links=[],this.results.meta=0,this.settings.page=1,this.settings.maxPage=1},checkDate(){if(Date.parse(this.query)&&this.query.length>=7){let e=new Date(this.query);if(new Date>e)return!0}},async search(){if(this.checkDate()){let e=new Date(this.query).toISOString().substr(0,10);this.changeApod(e)}else if(this.query.length>=1){const e=await j.get(`/search?q=${this.query}&page=${this.settings.page}&media_type=image&year_start=${this.slider.start_date}&year_end=${this.slider.end_date}`);this.query!==this.settings.prevQuery&&(this.settings.page=1),this.results.items=e.data.collection.items,this.results.links=e.data.collection.links,this.results.meta=e.data.collection.metadata.total_hits,this.settings.maxPage=Math.ceil(this.results.meta/100),this.settings.prevQuery=this.query}else this.query.length<=1&&this.clearRes()}},t(C,s(O)))};var C,O;const M={class:"bg-dark-800 py-5 md:px-10 px-2"},S={class:"md:flex md:justify-between self-center"},B=p("h1",{class:"text-white text-4xl max-w-10"},"Astrorum",-1),H={class:"relative text-gray-500 py-2"},L={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 absolute cursor-pointer mx-2 mt-1 right-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},I=p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1),$=p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),R=p("div",{class:"<sm:hidden min-w-10 text-gray-100"},null,-1),U={class:"slider md:py-5 md:mx-10 py-2"},E={class:"flex justify-between text-gray-500"},T={class:"flex text-gray-300 "},z=p("p",{class:"px-1"}," — ",-1),F={class:"relative"},Q={class:"md:px-10 px-2 bg-black text-gray-100"},V={class:"py-2 sm:flex justify-between "},W={key:0},G={key:1,class:"flex <sm:my-2 "},K=p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),N={class:"mx-2"},X=p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),Y={class:"py-5 "},J={class:"text-gray-300"},Z={class:"font-serif text-xl text-gray-100"},ee={key:0,class:""},te={class:""},se={class:"lg:flex"},ae={class:"relative lg:mr-5 "},re={key:0,class:"text-gray-600"},le={key:0,class:"text-gray-300 my-2 sm:text-lg font-light"};A.render=function(e,t,s,a,r,l){return c(),h(y,null,[p("header",M,[p("div",S,[B,p("div",H,[r.query?(c(),h("svg",{key:1,onClick:t[1]||(t[1]=e=>l.clearRes()),xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6  absolute cursor-pointer mx-2 mt-1 right-0 ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[$])):(c(),h("svg",L,[I])),u(p("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.query=e),onChange:t[3]||(t[3]=(...e)=>l.search&&l.search(...e)),onFocus:t[4]||(t[4]=(...e)=>l.search&&l.search(...e)),onBlur:t[5]||(t[5]=(...e)=>l.search&&l.search(...e)),onClick:t[6]||(t[6]=(...e)=>l.search&&l.search(...e)),onSubmit:t[7]||(t[7]=(...e)=>l.search&&l.search(...e)),class:"rounded-md max-w-screen-sm <md:min-w-full lg:w-120 text-gray-100 text-lg py-1 px-2 bg-dark-100 placeholder-gray-500",type:"text",placeholder:"Explore the space"},null,544),[[g,r.query]])]),R]),p("div",U,[p("div",E,[p("p",null,m(r.settings.start),1),p("div",T,[p("p",null,m(r.slider.start_date),1),z,p("p",null,m(r.slider.end_date),1)]),p("p",null,m(r.settings.end),1)]),p("div",F,[u(p("input",{type:"range",class:"tip",min:r.settings.start,max:r.settings.end,"onUpdate:modelValue":t[8]||(t[8]=e=>l.sliderStart=e),step:"1",onBlur:t[9]||(t[9]=(...e)=>l.search&&l.search(...e))},null,40,["min","max"]),[[g,l.sliderStart]]),u(p("input",{type:"range",class:"tip",min:r.settings.start,max:r.settings.end,"onUpdate:modelValue":t[10]||(t[10]=e=>l.sliderEnd=e),step:"1",onBlur:t[11]||(t[11]=(...e)=>l.search&&l.search(...e))},null,40,["min","max"]),[[g,l.sliderEnd]])])])]),p("main",Q,[p("div",V,[r.query.length>=1&&!l.checkDate()?(c(),h("p",W,m(r.results.meta)+' findings for "'+m(r.query)+'" between '+m(r.slider.start_date)+" and "+m(r.slider.end_date),1)):w("",!0),r.results.meta>100?(c(),h("div",G,[p("button",{disabled:1===r.settings.page,onClick:t[12]||(t[12]=e=>{r.settings.page-=1,l.search()})},[K],8,["disabled"]),p("p",N,m(r.settings.page),1),p("button",{disabled:r.settings.page===r.settings.maxPage,onClick:t[13]||(t[13]=e=>{r.settings.page+=1,l.search()})},[X],8,["disabled"])])):w("",!0)]),(c(!0),h(y,null,x(r.results.items,((e,t)=>(c(),h("div",{class:"",key:t},[p("div",Y,[p("header",J,[p("h3",Z,m(e.data[0].title),1),p("h4",null,[v(m(e.data[0].center)+" ",1),e.data[0].secondary_creator?(c(),h("span",ee," — "+m(e.data[0].secondary_creator),1)):w("",!0)]),p("time",te,m(e.data[0].date_created.slice(0,10)),1)]),p("div",se,[p("div",ae,[p("img",{src:e.links[0].href,alt:e.data[0].title,class:" md:min-w-100 lg:max-w-100 xl:max-w-200 "},null,8,["src","alt"]),e.data[0].photographer?(c(),h("h5",re,"Photo by "+m(e.data[0].photographer),1)):w("",!0)]),e.data[0].description!==e.data[0].title?(c(),h("p",le,m(e.data[0].description),1)):w("",!0)])])])))),128))])],64)};const ne={name:"Showcase",data:()=>({showcase:{},settings:{HD:!1,date:null}}),computed:i({},k(["apod"])),watch:{apod:{handler(e){this.dateAPOD(e)}}},mounted(){this.loadAPOD()},methods:{async loadAPOD(){const e=await P.get(`planetary/apod?&api_key=${q}`);this.showcase=e.data},async randomAPOD(){const e=await P.get(`planetary/apod?count=1&api_key=${q}`);this.showcase=e.data[0]},async dateAPOD(e){const t=await P.get(`planetary/apod?date=${e}&api_key=${q}`);this.showcase=t.data}}},ie={class:"md:px-10 px-2 bg-black text-gray-100"},oe={class:"min-h-screen"},de={class:"py-5"},ce={class:"font-serif text-4xl"},he=p("h2",{class:"text-xl text-gray-200"},"Astronomy Picture of the Day",-1),pe={class:"text-gray-300"},ue={key:0,class:"text-gray-300"},ge={class:"md:flex text-xl text-gray-300"},me={key:0,class:"min-w-1/2 md:pr-5 mb-5"},we={class:"font-light"},ye={class:"py-5 flex all:mr-2 duration-100 "},xe=p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),ve=p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),ke=p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),fe=p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})],-1),be=p("hr",null,null,-1),De=p("footer",{class:"py-2 font-light all:py-1"},[p("p",null,[v("Made with "),p("span",{class:"italic"},"love & care"),v(" by "),p("a",{class:"hover:underline",href:"https://github.com/timursaurus"},"Timur Bolotov")]),p("p",null,[v("Powered by "),p("a",{class:"hover:underline",href:"https://api.nasa.gov/"},"NASA API")])],-1);ne.render=function(e,t,s,a,r,l){return c(),h("main",ie,[p("article",oe,[p("header",de,[p("h1",ce,m(r.showcase.title),1),he,p("time",pe,m(r.showcase.date),1),r.showcase.copyright?(c(),h("p",ue,"© "+m(r.showcase.copyright),1)):w("",!0)]),p("div",ge,["image"===r.showcase.media_type?(c(),h("div",me,[u(p("img",{class:"min-w-full",src:r.showcase.url,alt:r.showcase.title},null,8,["src","alt"]),[[f,!r.settings.HD]]),r.settings.HD?(c(),h("img",{key:0,class:"min-w-full",src:r.showcase.hdurl,alt:r.showcase.title},null,8,["src","alt"])):w("",!0)])):(c(),h("iframe",{key:1,class:"pr-5 mb-5 min-w-1/2",src:r.showcase.url,frameborder:"0",allowfullscreen:"",allow:"encrypted-media"},null,8,["src"])),p("div",null,[p("p",we,m(r.showcase.explanation),1),p("div",ye,[r.settings.HD?(c(),h("a",{key:1,href:r.showcase.hdurl,title:"Image source",class:"hover:text-light-blue-500",target:"_blank"},[ve],8,["href"])):(c(),h("a",{key:0,href:r.showcase.url,title:"Image source",class:"hover:text-light-blue-500",target:"_blank"},[xe],8,["href"])),p("button",{onClick:t[1]||(t[1]=(...e)=>l.randomAPOD&&l.randomAPOD(...e)),title:"Random picture of the day",class:"hover:text-green-500"},[ke]),p("button",{onClick:t[2]||(t[2]=e=>r.settings.HD=!r.settings.HD),title:"Change image quality",class:["hover:text-yellow-400  ",{" text-yellow-400":r.settings.HD}]},[fe],2)]),be,De])])])])};const _e={name:"App",components:{Search:A,Showcase:ne}};_e.render=function(e,t,s,a,r,l){const n=b("Search"),i=b("Showcase");return c(),h(y,null,[p(n),p(i)],64)};const Pe=D({state:()=>({apodDate:"timursaurus"}),mutations:{changeApod(e,t){e.apodDate=t}},getters:{apod:e=>e.apodDate}}),je=_(_e);je.use(Pe),je.mount("#app");
